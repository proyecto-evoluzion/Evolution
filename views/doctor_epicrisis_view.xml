<?xml version="1.0"?>
<odoo>

	<record id="clinica_doctor_epicrisis_form" model="ir.ui.view">
         <field name="name">doctor.epicrisis.form</field>
         <field name="model">doctor.epicrisis</field>
         <field name="arch" type="xml">
         <form string="Epicrisis Form">
         	<sheet>
         		<div class="oe_title">
                    <h1>
                        <field name="name" readonly="1"/>
                    </h1>
                </div>
         		<group name="main_group">
         			<group name="main_sub_group1" >
         				<field name='patient_in_date' required="1"/>
         				<field name='patient_out_date' />
         				<field name='patient_id' required="1"/>
         				<field name='tdoc'/>
         				<field name='numberid' attrs="{'invisible':[('tdoc','in',['cc','ti'])]}"/>
         				<field name='numberid_integer' string="Number ID" attrs="{'invisible':[('tdoc','not in',['cc','ti'])]}"/>
         			</group>
         			<group name="main_sub_group2" >
		                <field name='lastname' />
		                <field name='surname' />
		         		<field name='firstname'/>
		                <field name='middlename'/>
		                <field name='gender'/>
		                <field name='birth_date'/>
         				<label for="age" string="Age"/>
	       				<div>
	       					<div>
	       						<field name="age" required="1" nolabel="1" class="oe_inline" readonly="1"/>
	      						<field name="age_meassure_unit" nolabel="1" class="oe_inline" />
	       					</div>
	       				</div>
         			</group>
         		</group>
         	    <group name="professional_info_group">
         	    	<group name="professional_info_sub1">
         	    		<field name="disease_id" />
		                <field name="procedure_id"/>
         	    	</group>
         	    	<group name="professional_info_sub2">
         	    		<field name="sign_stamp"/>
         	    		<field name="user_id" />
         	    	</group>
         	    </group>
         	    
         		<group name="epicrisis_note">
         			<field name='epicrisis_note' />
         		</group>
         	</sheet>
         </form>
         </field>
     </record>
     
     <record id="clinica_doctor_epicrisis_tree" model="ir.ui.view">
          <field name="name">doctor.epicrisis.tree</field>
          <field name="model">doctor.epicrisis</field>
          <field name="arch" type="xml">
              <tree string="Epicrisis Tree">
                    <field name="name"/>
	   				<field name="patient_in_date"/>
	   				<field name="patient_out_date"/>
	   				<field name="patient_id"/>
	   				<field name="tdoc"/>
	   				<field name="numberid"/>
              </tree>
          </field>
      </record>
      
	<record id="clinica_doctor_epicrisis_filter" model="ir.ui.view">
            <field name="name">doctor.epicrisis.search</field>
            <field name="model">doctor.epicrisis</field>
            <field name="arch" type="xml">
                <search string="Search Epicrisis">
                    <field name="name" />
                    <field name="patient_id" />
                    <group expand="0" string="Group By">
                    	<filter string="Patient" name="groupby_patient_id" domain="[]" context="{'group_by':'patient_id'}"/>
                    </group>
                </search>
            </field>
       </record>
      
      <record id="action_clinica_doctor_epicrisis" model="ir.actions.act_window">
          <field name="name">Epicrisis</field>
          <field name="res_model">doctor.epicrisis</field>
          <field name="view_type">form</field>
          <field name="view_mode">tree,form</field>
          <field name="view_id" ref="clinica_doctor_epicrisis_tree"/>
          <field name="search_view_id" ref="clinica_doctor_epicrisis_filter"/>
      </record> 
      
      <menuitem id="menu_clinica_doctor_epicrisis"
          name="Epicrisis"
          parent="menu_doctor_process"
          action="clinica_doctor_data.action_clinica_doctor_epicrisis"
          sequence="11"/>

</odoo>